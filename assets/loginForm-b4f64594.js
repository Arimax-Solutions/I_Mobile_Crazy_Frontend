import{r as t,u as p,j as e}from"./index-22430338.js";import{a as f}from"./axios-dd1c8fc2.js";import{S as o}from"./sweetalert2.all-bcf0cdbb.js";import{b as x}from"./utill-834e5e31.js";function j(){const[l,n]=t.useState(""),[c,i]=t.useState(""),[d,r]=t.useState(""),m=p(),u=async()=>{const s={username:l,password:c};try{const a=await f.post(x+"/auth/login",s);a.data.token?(o.fire({title:"Success!",text:"Login successful.",icon:"success"}),n(""),i(""),r(""),localStorage.setItem("authToken",a.data.token),localStorage.setItem("username",a.data.authenticatedUser.name),m("/dashboard")):(o.fire({title:"Error!",text:a.data.message||"Invalid username or password.",icon:"error"}),r("Invalid username or password"))}catch{o.fire({title:"Error!",text:"Invalid username or password.",icon:"error"}),r("Invalid username or password")}};return e.jsxs("div",{className:"flex flex-col md:flex-row h-screen bg-gradient-custom",children:[e.jsx("div",{className:"w-full md:w-1/2 flex justify-center items-center",children:e.jsx("img",{src:"src/assets/images/Group 160.png",alt:"main image",className:"rounded-right w-full h-full object-cover"})}),e.jsxs("div",{className:"w-full md:w-1/2 flex flex-col justify-center items-center p-4 md:p-0",children:[e.jsx("div",{className:"mb-8",children:e.jsx("img",{src:"src/assets/images/logo.png",alt:"logo",className:"w-32 md:w-[15vw] h-auto object-contain"})}),e.jsxs("div",{className:"flex flex-col items-center space-y-4 w-full max-w-md",children:[e.jsx("input",{placeholder:"user name",className:"p-2 rounded-md border border-gray-400 w-full",value:l,onChange:s=>n(s.target.value)}),e.jsx("input",{placeholder:"password",type:"password",className:"p-2 rounded-md border border-gray-400 w-full",value:c,onChange:s=>i(s.target.value)}),d&&e.jsx("div",{className:"text-red-500",children:d}),e.jsx("button",{type:"button",onClick:u,className:"custom-border-colour w-full md:w-[10vw] h-[5vh]",children:e.jsx("span",{className:"custom-font-colour",children:"Sign In"})})]})]})]})}export{j as default};
